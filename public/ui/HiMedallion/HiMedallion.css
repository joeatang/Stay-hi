/* ===================================================================
   üéØ HI MEDALLION COMPONENT - Tesla-Grade Premium UI
   Cross-browser optimized, responsive, accessible, performant
=================================================================== */

:root {
  /* ÔøΩÔ∏è TESLA-GRADE: Premium contrast medallion against sunrise orange */
  --hi-medallion-bg1: #4A90E2; /* Tesla-inspired deep blue for premium contrast */
  --hi-medallion-bg2: #2E5BBA; /* Deeper blue for sophisticated depth */
  --hi-medallion-halo: rgba(74, 144, 226, 0.25); /* Blue ambient halo */
  --hi-medallion-edge: rgba(46, 91, 186, 0.4); /* Strong blue edge definition */
  --hi-medallion-hand: #FFFFFF;
  --hi-medallion-surface: #1A0F0A;
}

.hi-medallion {
  /* üèóÔ∏è TESLA-GRADE: Enhanced responsive sizing for better desktop presence */
  --size: clamp(280px, 45vw, 500px);
  width: var(--size);
  height: var(--size);
  
  /* HI DEV: Layout & positioning */
  position: relative;
  display: grid;
  place-items: center;
  border-radius: 50%;
  
  /* HI DEV: Performance optimizations */
  isolation: isolate;
  transform: translateZ(0); /* Force GPU layer */
  will-change: transform, box-shadow;
  backface-visibility: hidden; /* Prevent flickering */
  
  /* HI DEV: Interaction states */
  cursor: pointer;
  -webkit-tap-highlight-color: transparent; /* iOS tap highlight */
  -webkit-touch-callout: none; /* iOS long-press menu */
  user-select: none; /* Prevent text selection */
  
  /* HI DEV: Smooth transitions with easing */
  transition: 
    transform 0.18s cubic-bezier(0.2, 0.7, 0.2, 1),
    filter 0.18s ease-out,
    box-shadow 0.18s ease-out;
}

/* üèóÔ∏è TESLA-GRADE: Premium base with sophisticated texture */
.hi-medallion__base {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  
  /* üèóÔ∏è TESLA-GRADE: Multi-layer gradient with premium texture */
  background:
    /* Subtle noise texture for premium feel */
    radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.06) 0%, transparent 40%),
    radial-gradient(circle at 80% 70%, rgba(0, 0, 0, 0.04) 0%, transparent 35%),
    /* Premium depth gradient */
    radial-gradient(120% 120% at 30% 25%, var(--hi-medallion-bg1) 0%, var(--hi-medallion-bg2) 70%),
    /* Surface texture */
    linear-gradient(145deg, rgba(255, 255, 255, 0.08), rgba(0, 0, 0, 0.02)),
    linear-gradient(180deg, rgba(0, 0, 0, 0.03), rgba(255, 255, 255, 0.06));
  
  /* üèóÔ∏è TESLA-GRADE: Premium shadows with depth and texture */
  box-shadow:
    /* Dramatic outer shadow */
    0 24px 60px rgba(0, 0, 0, 0.4),
    0 8px 24px rgba(0, 0, 0, 0.25),
    /* Inner highlight for metallic feel */
    inset 0 12px 28px rgba(255, 255, 255, 0.12),
    /* Inner depth shadow */
    inset 0 -20px 32px rgba(0, 0, 0, 0.3),
    /* Subtle inner rim */
    inset 0 0 0 1px rgba(255, 255, 255, 0.06);
}

/* HI DEV: Crisp edge definition */
.hi-medallion__edge {
  pointer-events: none;
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  box-shadow: 0 0 0 1px var(--hi-medallion-edge) inset;
  opacity: 0.85;
}

/* HI DEV: Ambient halo effect */
.hi-medallion__halo {
  position: absolute;
  inset: -18%;
  border-radius: 50%;
  background: radial-gradient(70% 70% at 50% 50%, var(--hi-medallion-halo) 0%, rgba(255, 255, 255, 0) 70%);
  filter: blur(18px);
  opacity: 0;
  transform: scale(0.9);
  z-index: -1;
  
  /* HI DEV: Smooth halo transitions */
  transition: 
    opacity 0.22s ease-out, 
    transform 0.22s ease-out;
}

/* üèóÔ∏è TESLA-GRADE: Sunray pulse effect */
.hi-medallion::before {
  content: '';
  position: absolute;
  inset: -25%;
  border-radius: 50%;
  background: 
    conic-gradient(from 0deg, 
      transparent 0deg, 
      rgba(255, 255, 255, 0.1) 15deg,
      transparent 30deg,
      rgba(255, 255, 255, 0.05) 45deg,
      transparent 60deg,
      rgba(255, 255, 255, 0.08) 75deg,
      transparent 90deg,
      rgba(255, 255, 255, 0.03) 105deg,
      transparent 120deg,
      rgba(255, 255, 255, 0.06) 135deg,
      transparent 150deg,
      rgba(255, 255, 255, 0.04) 165deg,
      transparent 180deg,
      rgba(255, 255, 255, 0.09) 195deg,
      transparent 210deg,
      rgba(255, 255, 255, 0.02) 225deg,
      transparent 240deg,
      rgba(255, 255, 255, 0.07) 255deg,
      transparent 270deg,
      rgba(255, 255, 255, 0.05) 285deg,
      transparent 300deg,
      rgba(255, 255, 255, 0.1) 315deg,
      transparent 330deg,
      rgba(255, 255, 255, 0.04) 345deg,
      transparent 360deg
    );
  z-index: -2;
  animation: sunrayPulse 8s ease-in-out infinite;
  opacity: 0.4;
  filter: blur(1px);
}

/* üèóÔ∏è TESLA-GRADE: Premium icon display with Tesla texture */
.hi-medallion__icon {
  width: 65%;
  aspect-ratio: 1 / 1;
  display: block;
  position: relative;
  z-index: 3;
  filter: brightness(1.1) contrast(1.05);
  opacity: 0.95;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.02);
  backdrop-filter: blur(0.5px);
}

/* HI DEV: Dark surface bleed fix for gradient backgrounds */
.hi-medallion::after {
  content: '';
  position: absolute;
  inset: 6%;
  border-radius: inherit;
  background: radial-gradient(120% 120% at 30% 25%, rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0));
  mix-blend-mode: multiply;
  pointer-events: none;
}

/* ===================================================================
   üéØ INTERACTION STATES - Tesla-Grade Motion
=================================================================== */

/* HI DEV: Active state (tap/click) */
.hi-medallion:active {
  transform: scale(0.985);
  transition-duration: 0.08s; /* Faster on press */
}

/* HI DEV: Hover state (desktop only) */
@media (hover: hover) and (pointer: fine) {
  .hi-medallion:hover {
    transform: translateY(-2px) scale(1.01);
    filter: brightness(1.02);
  }
}

/* HI DEV: Focus state for accessibility - Tesla blue theme */
.hi-medallion:focus-visible {
  outline: 3px solid rgba(74, 144, 226, 0.6);
  outline-offset: 4px;
}

/* HI DEV: Pulse animation on tap */
.hi-medallion.is-pulsing .hi-medallion__halo {
  opacity: 0.9;
  transform: scale(1.06);
  animation: hiHalo 0.6s ease-out forwards;
}

/* üèóÔ∏è TESLA-GRADE: Enhanced sunray pulse animation */
@keyframes hiHalo {
  0% { 
    opacity: 1; 
    transform: scale(1.05);
    filter: hue-rotate(0deg) brightness(1.1) saturate(1.2);
  }
  20% {
    opacity: 1.2;
    transform: scale(1.15);
    filter: hue-rotate(12deg) brightness(1.25) saturate(1.4);
  }
  50% {
    opacity: 0.9;
    transform: scale(1.35);
    filter: hue-rotate(25deg) brightness(1.4) saturate(1.5);
  }
  100% { 
    opacity: 0; 
    transform: scale(1.6);
    filter: hue-rotate(35deg) brightness(1.6) saturate(1.7);
  }
}

/* üèóÔ∏è TESLA-GRADE: Premium sunray pulse effect */
@keyframes sunrayPulse {
  0% {
    transform: scale(1) rotate(0deg);
    opacity: 0.3;
  }
  50% {
    transform: scale(1.05) rotate(180deg);
    opacity: 0.6;
  }
  100% {
    transform: scale(1) rotate(360deg);
    opacity: 0.3;
  }
}

/* ===================================================================
   üéØ RESPONSIVE BREAKPOINTS - Mobile to Desktop Scaling
=================================================================== */

/* HI DEV: Mobile portrait (320px-480px) */
@media screen and (max-width: 480px) and (orientation: portrait) {
  .hi-medallion {
    --size: clamp(160px, 35vw, 220px);
  }
}

/* HI DEV: Mobile landscape */
@media screen and (max-height: 500px) and (orientation: landscape) {
  .hi-medallion {
    --size: clamp(140px, 25vh, 200px);
  }
}

/* HI DEV: Tablet (768px-1024px) */
@media screen and (min-width: 768px) and (max-width: 1024px) {
  .hi-medallion {
    --size: clamp(220px, 24vw, 280px);
  }
}

/* üèóÔ∏è TESLA-GRADE: Enhanced desktop presence */
@media screen and (min-width: 1025px) {
  .hi-medallion {
    --size: clamp(320px, 22vw, 420px);
  }
}

/* üèóÔ∏è TESLA-GRADE: Large desktop premium sizing */
@media screen and (min-width: 1440px) {
  .hi-medallion {
    --size: clamp(380px, 20vw, 480px);
  }
}

/* üèóÔ∏è TESLA-GRADE: Ultra-wide desktop scaling */
@media screen and (min-width: 1920px) {
  .hi-medallion {
    --size: clamp(420px, 18vw, 520px);
  }
}

/* ===================================================================
   üéØ CROSS-BROWSER COMPATIBILITY - All Modern Browsers
=================================================================== */

/* HI DEV: Safari specific optimizations */
@supports (-webkit-backdrop-filter: blur(1px)) {
  .hi-medallion {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }
}

/* HI DEV: Firefox specific optimizations */
@-moz-document url-prefix() {
  .hi-medallion {
    transform: translate3d(0, 0, 0);
  }
}

/* HI DEV: Edge/IE fallbacks */
@supports not (inset: 0) {
  .hi-medallion__base,
  .hi-medallion__edge,
  .hi-medallion__halo {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
}

/* HI DEV: High contrast mode support */
@media (prefers-contrast: high) {
  .hi-medallion__edge {
    opacity: 1;
    box-shadow: 0 0 0 2px currentColor inset;
  }
}

/* HI DEV: Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .hi-medallion,
  .hi-medallion__halo {
    transition-duration: 0.01s;
  }
  
  .hi-medallion.is-pulsing .hi-medallion__halo {
    animation: hiHalo 0.6s ease-out forwards; /* Override: Keep sunrise animation even with reduced motion */
    opacity: 0.9;
    transform: scale(1.06);
  }
}

/* HI DEV: Print styles */
@media print {
  .hi-medallion {
    filter: none;
    box-shadow: none;
    transform: none;
  }
  
  .hi-medallion__halo {
    display: none;
  }
}