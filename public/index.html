<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Stay Hi — Today</title>

  <!-- Brand + shared styles -->
  <link rel="stylesheet" href="assets/theme.css"/>
  <link rel="stylesheet" href="assets/create-parity.css"/>

  <style>
    /* page-specific polish */
    .ring{ position:relative; margin:0 auto }
    .ring svg{ width:100%; height:100% }
    .goal-marker{ position:absolute; inset:0; transform-origin:50% 50%; pointer-events:none }
    .goal-marker i{ position:absolute; left:50%; top:6px; transform:translateX(-50%); width:10px; height:10px; border-radius:50%; background:#F5A623; box-shadow:0 1px 4px #0009 }

    .hud{display:flex;justify-content:center;gap:10px;margin:8px 0;flex-wrap:wrap}
    .hud .dot{width:10px;height:10px;border-radius:50%}
    .hud .today{background:#22c55e}.hud .goal{background:#f59e0b}

    .burst{ position:absolute; inset:0; pointer-events:none }
    .burst span{ position:absolute; font-size:26px; will-change:transform,opacity }
    @keyframes waveUp {
      0%{ transform:translate(-50%,-50%) scale(var(--s,1)); opacity:.9 }
      100%{ transform:translate(calc(-50% + var(--dx,0px)),-240%) scale(calc(var(--s,1)*.9)); opacity:0 }
    }

    .timerRead{ font-size:36px; }
    @media (min-width:420px){ .timerRead{ font-size:42px; } }

    .calendar-backdrop{ position:fixed; inset:0; background:#0009; display:grid; place-items:center; z-index:700 }
    .calendar{ background:#101010; color:#fff; border:1px solid #ffffff1a; border-radius:18px; width:min(720px,92vw); }
    .calendar .hd{ display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid #ffffff1a }
    .calendar .grid7{ display:grid; grid-template-columns:repeat(7,1fr); gap:8px }
    .calendar .cell{ height:66px; border-radius:10px; display:grid; place-items:center; border:1px solid #ffffff1a; background:#ffffff0f }
    .calendar .cell.met{ background:#0a5; border-color:#0a5 }

    /* make our main button styles match theme */
    .btn { /* map existing .btn to our hi look */
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:10px 14px; border-radius:14px; font-weight:900; cursor:pointer; border:1px solid var(--hi-border);
      background:#fff; color:#111;
    }
    .btn.big{ padding:14px 16px; font-size:1.05rem }
    .btn.primary{ background: var(--grad-ember); color:#fff; border-color:transparent }
  </style>
</head>
<body class="sunrise" data-tab="today">
  <!-- Header -->
  <header id="app-header" class="header"></header>

  <!-- Week strip (stays above halo) -->
  <div id="weekStrip" class="weekstrip" aria-label="Your week"></div>

  <!-- Announcement rotator (now directly above halo) -->
  <div id="announceWrap" class="announce" style="display:none">
    <div id="announceTxt" class="txt"></div>
    <button id="announceX" class="btn" style="width:auto;padding:4px 10px">✕</button>
  </div>

  <main class="page">
    <!-- METER -->
    <section class="panel" aria-label="Hi meter">
      <div class="hud">
        <span class="dot today"></span><span class="lead">Hi mins today</span>
        &nbsp;&nbsp;<span class="dot goal"></span><span class="lead"><b id="goalLblTop">14m</b> target</span>
      </div>

      <div class="ring" id="ringBox" aria-label="Tap the center to send a Hi">
        <svg viewBox="0 0 220 220" aria-hidden="true">
          <defs>
            <linearGradient id="goalGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%"  stop-color="#10b981"/>
              <stop offset="100%" stop-color="#059669"/>
            </linearGradient>
            <linearGradient id="goalGradMet" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%"  stop-color="#ffd166"/>
              <stop offset="100%" stop-color="#ff7a18"/>
            </linearGradient>
          </defs>
          <!-- 24h background/progress -->
